import{r as t,Q as q,j as e,T as C,U as a,W as P,X as k,a4 as D,Z as A,_ as Z,a6 as o,a1 as n,w as y,C as X,aa as L,ab as S}from"./react-vendors-EQJ1DewU.js";import{o as H}from"./icons8-organization-96-B_a_TVRs.js";import{e as Q}from"./icons8-error-EK1qFjAG.js";import"./vendor-DmCBWs0o.js";const V="data:image/png;base64,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";function $(){const[d,F]=t.useState(),[l,U]=t.useState(),[c,B]=t.useState(),[p,M]=t.useState(),[x,w]=t.useState(),[m,E]=t.useState(),[h,K]=t.useState(),[g,T]=t.useState(),[G,j]=t.useState(!1),[N,u]=t.useState(!1),[b,I]=t.useState(""),O=q(),f={org_name:/^[A-Za-z\s]+$/,org_code:/^[A-Za-z0-9_-]+$/,url:/^[A-Za-z\s]+$/,accessKey:/^[A-Za-z0-9_-]+$/,apiKey:/^[A-Za-z0-9_-]+$/,groupID:/^[A-Za-z0-9_-]+$/,sms_Cost:/^\d+(\.\d{1,2})?$/,clientId:/^[A-Za-z0-9]+$/},s=(r,i)=>f[r]?f[r].test(i):!0,R=async r=>{if(r.preventDefault(),s("org_name",d)&&s("org_code",l)&&s("url",g)&&s("accessKey",x)&&s("apiKey",m)&&s("groupID",h)&&s("sms_Cost",p)&&s("clientId",c)){j(!0);try{const i=await fetch("https://wazimobile-sms-backend.onrender.com/registerOrganisation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({org_Name:d,org_Code:l,mBCode:l,url:g,smsCost:p,accessKey:x,apiKey:m,groupID:h,clientId:c})});if(!i.ok){const z=await i.text();throw new Error(z)}const v=await i.text();I(v),u(!0),j(!1)}catch(i){I("There was a problem with the fetch operation or Registration failed."),u(!0),console.error("There was a problem with the fetch operation:",i),j(!1)}}else I("Please ensure all fields are correctly filled based on the validation rules."),u(!0),j(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx(a,{xs:10,style:{margin:"0 auto"},children:e.jsx(P,{className:"mb-4",style:{boxShadow:"0px 15px 34px 0px rgba(0,0,0,0.2)"},children:e.jsxs(k,{style:{padding:"35px"},children:[e.jsxs(D,{style:{padding:"20px 20px",display:"flex",alignItems:"flex-end"},children:[e.jsx(A,{src:H,height:48,style:{marginRight:"8px"}}),e.jsx("h3",{children:"Register Organisation"})]}),e.jsxs(Z,{onSubmit:R,style:{backgroundColor:"rgba(0,0,0,0.1)",padding:"25px",borderRadius:"5px"},children:[e.jsxs(C,{children:[e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput1",children:"Organisation Code"}),e.jsx(n,{type:"number",id:"exampleFormControlInput1",placeholder:"Enter Organisation Code",style:{borderColor:l?s("org_code",l)?"rgba(71, 71, 212,0.6)":"red":"rgba(71, 71, 212,0.6)"},onChange:r=>U(r.target.value)}),l?s("org_code",l)?e.jsx("span",{}):e.jsx("span",{style:{marginLeft:"10px",color:"red"},children:"Incorrect"}):e.jsx("span",{})]})}),e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput1",children:"Organisation Name"}),e.jsx(n,{type:"text",id:"exampleFormControlInput1",placeholder:"Enter Organisation Name",onChange:r=>F(r.target.value),style:{borderColor:d?s("org_name",d)?"rgba(71, 71, 212,0.6)":"red":"rgba(71, 71, 212,0.6)"}}),d?s("org_name",d)?e.jsx("span",{}):e.jsx("span",{style:{marginLeft:"10px",color:"red"},children:"Incorrect"}):e.jsx("span",{})]})})]}),e.jsxs(C,{children:[e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput1",children:"Sender Id"}),e.jsx(n,{type:"text",id:"exampleFormControlInput1",placeholder:"Enter Sender Id",style:{borderColor:g?s("url",g)?"rgba(71, 71, 212,0.6)":"red":"rgba(71, 71, 212,0.6)"},onChange:r=>T(r.target.value)}),g?s("url",g)?e.jsx("span",{}):e.jsx("span",{style:{marginLeft:"10px",color:"red"},children:"Incorrect"}):e.jsx("span",{})]})}),e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput1",children:"Group Id"}),e.jsx(n,{type:"number",id:"exampleFormControlInput1",placeholder:"Enter Group Id",style:{borderColor:h?s("groupID",h)?"rgba(71, 71, 212,0.6)":"red":"rgba(71, 71, 212,0.6)"},onChange:r=>K(r.target.value)}),h?s("groupID",h)?e.jsx("span",{}):e.jsx("span",{style:{marginLeft:"10px",color:"red"},children:"Incorrect"}):e.jsx("span",{})]})})]}),e.jsxs(C,{children:[e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput1",children:"Sms Cost"}),e.jsx(n,{type:"text",step:"0.01",id:"exampleFormControlInput1",placeholder:"Enter The Sms Cost",style:{borderColor:p?s("sms_Cost",p)?"rgba(71, 71, 212,0.6)":"red":"rgba(71, 71, 212,0.6)"},onChange:r=>M(r.target.value)}),p?s("sms_Cost",p)?e.jsx("span",{}):e.jsx("span",{style:{marginLeft:"10px",color:"red"},children:"Incorrect"}):e.jsx("span",{})]})}),e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput1",children:"Access Key"}),e.jsx(n,{type:"text",id:"exampleFormControlInput1",placeholder:"Enter Access Key",style:{borderColor:x?s("accessKey",x)?"rgba(71, 71, 212,0.6)":"red":"rgba(71, 71, 212,0.6)"},onChange:r=>w(r.target.value)}),x?s("accessKey",x)?e.jsx("span",{}):e.jsx("span",{style:{marginLeft:"10px",color:"red"},children:"Incorrect"}):e.jsx("span",{})]})})]}),e.jsxs(C,{children:[e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput1",children:"Api Key"}),e.jsx(n,{type:"text",id:"exampleFormControlInput1",placeholder:"Enter Api Key",style:{borderColor:m?s("apiKey",m)?"rgba(71, 71, 212,0.6)":"red":"rgba(71, 71, 212,0.6)"},onChange:r=>E(r.target.value)}),m?s("apiKey",m)?e.jsx("span",{}):e.jsx("span",{style:{marginLeft:"10px",color:"red"},children:"Incorrect"}):e.jsx("span",{})]})}),e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput1",children:"Client Id"}),e.jsx(n,{type:"text",id:"exampleFormControlInput1",placeholder:"Enter ClientId",style:{borderColor:c?s("clientId",c)?"rgba(71, 71, 212,0.6)":"red":"rgba(71, 71, 212,0.6)"},onChange:r=>B(r.target.value)}),c?s("clientId",c)?e.jsx("span",{}):e.jsx("span",{style:{marginLeft:"10px",color:"red"},children:"Incorrect"}):e.jsx("span",{})]})})]}),e.jsx("div",{className:"col-auto",style:{width:"40%",paddingTop:"20px",margin:"0px auto"},children:G?e.jsxs(y,{color:"success",type:"submit",className:"mb-3",disabled:!0,style:{width:"100%",margin:"0 auto"},children:[e.jsx(X,{as:"span",size:"sm"})," Uploading Data ..."]}):e.jsx(y,{color:"primary",type:"submit",className:"mb-3",style:{width:"100%",margin:"0 auto"},children:"CREATE"})})]})]})})})}),e.jsx(L,{visible:N,onClose:()=>u(!1),children:b=="Successful Registration"?e.jsxs(S,{style:{textAlign:"center"},children:[e.jsx(A,{src:V,height:90,style:{marginBottom:"20px"}}),e.jsx("h3",{children:"Validation Successful"}),e.jsx("p",{style:{width:"250px",margin:"20px auto",fontWeight:"bold"},children:b}),e.jsx(y,{color:"success",onClick:()=>{u(!1),O("/organisation")},style:{color:"#fff",margin:"10px",width:"80%"},children:"OK"})]}):e.jsxs(S,{style:{textAlign:"center"},children:[e.jsx(A,{src:Q,height:90,style:{marginBottom:"20px"}}),e.jsx("h3",{children:"Validation Error"}),e.jsx("p",{style:{width:"250px",margin:"20px auto",fontWeight:"bold"},children:b}),e.jsx(y,{color:"danger",onClick:()=>u(!1),style:{color:"#fff",margin:"10px",width:"80%"},children:"Try Again"})]})})]})}export{$ as default};

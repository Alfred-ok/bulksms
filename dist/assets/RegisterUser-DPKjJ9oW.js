import{r,L as B,j as e,M as l,Q as a,T as D,U as R,a2 as z,W as Y,X as Z,a4 as o,_ as n,a0 as u,w as c,C as L,a8 as q,a9 as g}from"./react-vendors-zvsUqyxL.js";import"./vendor-BDCZ_RMd.js";const G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAADxElEQVR4nO2cyWsUQRyFP9e4iyCo6MUFPejBFTGoCP4LMUTEswdPgiDoYYL7X2A0ehPBBTwJ3lwQtyCIil7EQwTBKIqaCTqCltRYjTImON3T3VXd8z54ECaTme73qmvrXweEEEIIIYQQQgghhAiPmcBO4CwwALwDvjvZnx8C/UCPe69IiQVAHzACmCY14oJaphSSMxU4DFRjGN8oe3WcBDoURDyWAU9bML5Rd4F5CqE5VgNDKZof6TWwSiH8v+UPZWB+pEFdCWMzBXicofmR7mlMGJ3DOZgf6YS6on+nmtUcA6gBSxXCH/pyND+SXbQJYFbMRVZaslfcDCVAfXvBeFK3AqC+ZeArgDMKgPrGmq8A7isAeO8xALvoa3tqHgP41vbu83tOrgA88l5dkF8GNAj7pd9jAKc9n3sQ9HgMYIfvkw+BGcCwB/O1FeF5NaxVcMOdsO85z/8X/30Agnr1Ql4BHJPh/zIJuJ2D+bZCQmUqYzDPVS9kZb5uyjfBqoxCsOavVNfTHHOBWyl3OyrMikmHq15oZbOu5gbcyWr5yVnitiviVE0Mu3m+ppopr5i73f7NA3czpeY05F7rc9sL09P8YiGEEEIIIYQQQgghys4cYCOwGzgKXAJuAo+AV66k8ZvTO/ea/d0N994jwC5gAzDb98kU4RHVLcAh4HpG9aJvgWvAAaCz3e8RTAC2AseBO64Vm5w14q6WXmATMJ6SY09wO3DOdRkmML0BTgGbgXGUiIXuIezBAEw2TeolcDCFsWMf8BF4BqwnZ9YAF3KueDMp6zkwLeH59zZ81ic3qcilzPAi8DMAA00KsjOpVs3PJYQON10scos3o2hPSuZnGsJa4EUAZpmUZfvv+TF86Gryc1MNodvTvxowGWvYzYjiMNF1v82G0PLAvLdEfb1p0fwkIdjZUWLs4PQjALOMZ/O7nOlJQviQ1PzlwNcAzDKezY8G3IsJQ7DrhETkUcdvCmK+SRiC/ftEdAZglklZtu50WwvmR7oySgh23+t8w/sqFPS5XhNgyzcxr4TELT/iSQCmmUDN/18IdsBumU8BGGcC6nZMjO4oFXwbZwpgfqYhmIJrOKNuZyyl0u2UJYBqTi0/ldlO2QKolsH8ogZQLYv5BGCmaWfzLV8CMNUEOuC2vMhqhqsBGGva1XzLCreNagLWILCujOZHLAIuA58DMNs4fXHPCu+P+Zxw4cwvE72hD7hlplfm+0Pmy/z2xajPL2YAFc/HXRqMzC9WABXPx1s6jMwvRgAVz8dZWozMDzuASp5H8wvLb+WDTUYPXAAAAABJRU5ErkJggg==";function V(){const[C,A]=r.useState(),[j,b]=r.useState(),[d,w]=r.useState(),[y,f]=r.useState(),[v,F]=r.useState(),[Q,I]=r.useState(),[p,N]=r.useState(),[m,S]=r.useState(),[h,M]=r.useState([]),[O,i]=r.useState(!1),E=B(),[P,x]=r.useState(!1);r.useEffect(()=>{try{fetch("https://wazimobile-sms-backend.onrender.com/get_User").then(s=>s.json()).then(s=>{console.log(s),M(s)}).catch(s=>{console.log(s)})}catch(s){console.error("There was a problem with the fetch operation:",s)}},[]);const T=async s=>{s.preventDefault(),x(!0);try{const t=await fetch("https://wazimobile-sms-backend.onrender.com/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({names:C,email:j,organisation:d,userName:y,password:v,roles:p,groupID:d})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const U=await t.json();S(U.ResponseMessage),i(!0)}catch(t){console.error("There was a problem with the fetch operation:",t)}x(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(l,{children:e.jsx(a,{xs:10,style:{margin:"0 auto"},children:e.jsx(D,{className:"mb-4",style:{boxShadow:"0px 15px 34px 0px rgba(0,0,0,0.2)"},children:e.jsxs(R,{style:{padding:"35px"},children:[e.jsx(z,{children:e.jsxs("span",{style:{fontSize:"30px",padding:"20px 20px",display:"flex",alignItems:"center"},children:[e.jsx(Y,{src:G,height:32,style:{marginRight:"7px"}})," User Registration"]})}),e.jsxs(Z,{onSubmit:T,style:{backgroundColor:"rgba(0,0,0,0.1)",padding:"25px",borderRadius:"5px"},children:[e.jsxs(l,{children:[e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput1",children:"User name"}),e.jsx(n,{type:"text",id:"exampleFormControlInput1",placeholder:"User name",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>f(s.target.value),required:!0})]})}),e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput2",children:"E-Mail Address"}),e.jsx(n,{type:"email",id:"exampleFormControlInput2",placeholder:"E-Mail Address",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>b(s.target.value),required:!0})]})})]}),e.jsxs(l,{children:[e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput3",children:"Names"}),e.jsx(n,{type:"text",id:"exampleFormControlInput3",placeholder:"Names",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>A(s.target.value),required:!0})]})}),e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput4",children:"Password"}),e.jsx(n,{type:"password",id:"exampleFormControlInput4",placeholder:"Password",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>F(s.target.value),required:!0})]})})]}),e.jsxs(l,{children:[e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput5",children:"Confirm password"}),e.jsx(n,{type:"password",id:"exampleFormControlInput5",placeholder:"Confirm password",style:{borderColor:"rgba(71, 71, 212,0.6)"},onChange:s=>I(s.target.value)})]})}),e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput6",children:"Roles"}),e.jsx(u,{id:"exampleFormControlInput6","aria-label":"Default select example",style:{borderColor:"rgba(71, 71, 212,0.6)"},value:p,onChange:s=>N(s.target.value),required:!0,options:["Select Role",{label:"Admin",value:"ProT_917201762254"},{label:"User",value:"ProT_917201762349"}]})]})})]}),e.jsxs(l,{children:[e.jsx(a,{children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{htmlFor:"exampleFormControlInput6",children:"Organisation"}),e.jsxs(u,{className:"mb-3","aria-label":"Small select example",style:{borderColor:"rgba(71, 71, 212,0.6)"},value:d,onChange:s=>w(s.target.value),children:[e.jsx("option",{value:"",children:"Organisation"})," ",h&&h.map((s,t)=>e.jsx("option",{value:s.organisation,children:s.userName},t))]})]})}),e.jsx(a,{})]}),e.jsx("div",{className:"col-auto",style:{width:"60%",paddingTop:"20px",margin:"0px auto"},children:P?e.jsxs(c,{color:"primary",type:"submit",className:"mb-3",disabled:!0,style:{width:"100%",margin:"0 auto"},children:[e.jsx(L,{as:"span",size:"sm"})," Uploading Data ..."]}):e.jsx(c,{color:"primary",type:"submit",className:"mb-3",style:{width:"100%",margin:"0 auto"},children:"REGISTER"})})]})]})})})}),e.jsx(q,{visible:O,onClose:()=>i(!1),children:m=="Successful"?e.jsxs(g,{style:{textAlign:"center"},children:[e.jsx("p",{style:{width:"250px",margin:"20px auto",fontWeight:"bold"},children:m}),e.jsx(c,{color:"primary",onClick:()=>{i(!1),E("/user")},style:{color:"#fff",margin:"10px",width:"80%"},children:"OK"})]}):e.jsxs(g,{style:{textAlign:"center"},children:[e.jsx("p",{style:{width:"250px",margin:"20px auto",fontWeight:"bold"},children:m}),e.jsx(c,{color:"primary",onClick:()=>i(!1),style:{color:"#fff",margin:"10px",width:"80%"},children:"OK"})]})})]})}export{V as default};
